import{c as y,a as R,u as $,b as Q,r as d,j as e,P as U,L as u,s as k,d as q,S as O,e as V,f as J,g as H,T as D,N as Y,R as B,h as N,B as X,D as Z,O as G,i as K,k as ee,l as se,m as te}from"./index-C5UTE38C.js";/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],F=y("book-open",ae);/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],P=y("chevron-left",le);/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ne=y("chevron-right",re);/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],A=y("clock",ie);/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],oe=y("eye",ce);/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],T=y("mail",de);/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],he=y("map-pin",xe);/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=[["path",{d:"M5 12h14",key:"1ays0h"}]],ue=y("minus",me);/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],L=y("phone",pe);/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],fe=y("shield",je);/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],be=y("shopping-bag",ge);/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],I=y("shopping-cart",Ne);/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],ye=y("trending-up",ve);/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],M=y("user",we);/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],W=y("x",ke),C=R((a,n)=>({items:[],isOpen:!1,initialize:()=>{try{const r=localStorage.getItem("cart");r&&a({items:JSON.parse(r)})}catch(r){console.error("×©×’×™××” ×‘×˜×¢×™× ×ª ×¡×œ ×”×§× ×™×•×ª:",r)}},addItem:r=>{a(s=>{const t=s.items.find(c=>c.id===r.id);let l;return t?l=s.items.map(c=>c.id===r.id?{...c,quantity:c.quantity+1}:c):l=[...s.items,{...r,quantity:1}],localStorage.setItem("cart",JSON.stringify(l)),{items:l,isOpen:!0}})},removeItem:r=>{a(s=>{const t=s.items.filter(l=>l.id!==r);return localStorage.setItem("cart",JSON.stringify(t)),{items:t}})},updateQuantity:(r,s)=>{a(t=>{const l=t.items.map(c=>c.id===r?{...c,quantity:Math.max(0,s)}:c).filter(c=>c.quantity>0);return localStorage.setItem("cart",JSON.stringify(l)),{items:l}})},clearCart:()=>{localStorage.removeItem("cart"),a({items:[]})},toggleCart:()=>a(r=>({isOpen:!r.isOpen})),closeCart:()=>a({isOpen:!1}),openCart:()=>a({isOpen:!0}),getTotal:()=>{const{items:r}=n();return r.reduce((s,t)=>s+t.price*t.quantity,0)},getItemsCount:()=>{const{items:r}=n();return r.reduce((s,t)=>s+t.quantity,0)}}));function Ce(){const{books:a,loading:n,error:r,initialize:s,searchBooks:t}=$(),{addItem:l}=C(),c=Q(),i=new URLSearchParams(c.search).get("search")||"";return d.useEffect(()=>{s()},[s]),d.useEffect(()=>{t(i)},[i,t]),n?e.jsx("div",{className:"text-center py-8",children:"×˜×•×¢×Ÿ..."}):r?e.jsx("div",{className:"text-center py-8 text-red-600",children:r}):e.jsxs("div",{className:"p-4 max-w-6xl mx-auto",children:[e.jsx("h2",{className:"text-3xl font-bold mb-6 text-center text-[#112a55]",children:"×§×˜×œ×•×’ ×”×¡×¤×¨×™×"}),e.jsx("div",{className:"grid gap-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3",children:a.map(o=>e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden flex flex-col transform transition-transform duration-300 hover:scale-105",children:[o.image_url?e.jsx("img",{src:o.image_url,alt:o.title,className:"w-full h-[300px] object-contain bg-white rounded-t-2xl"}):e.jsx("img",{src:`https://via.placeholder.com/300x400.png?text=${encodeURIComponent(o.title)}`,alt:o.title,className:"w-full h-64 object-cover rounded-t-2xl"}),e.jsxs("div",{className:"p-4 flex-1 flex flex-col justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-[#112a55] mb-2",children:o.title}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:o.description}),e.jsxs("p",{className:"text-md font-bold text-[#a48327]",children:[o.price," â‚ª"]})]}),e.jsxs("div",{className:"flex justify-between items-center mt-4",children:[e.jsxs("button",{onClick:()=>l(o),className:"bg-[#7c1c2c] text-white py-2 px-4 rounded-lg hover:bg-[#66121f] flex items-center gap-2",children:[e.jsx(I,{size:18})," ",e.jsx("span",{children:"×§× ×™×™×” ××™×™×“×™×ª"})]}),e.jsxs("div",{className:"flex gap-2 text-xl",children:[e.jsx("button",{className:"text-gray-500 hover:text-green-600",title:"×”×•×¡×¤×” ×œ×¨×©×™××ª ××©××œ×•×ª",children:e.jsx(U,{size:18})}),e.jsx(u,{to:`/books/${o.id}`,className:"text-gray-500 hover:text-blue-600",title:"×¦×¤×™×™×” ×‘×¤×¨×˜×™×",children:e.jsx(oe,{size:18})})]})]})]})]},o.id))})]})}const S=R(a=>({user:null,loading:!0,error:null,initialize:async()=>{try{console.log("Initializing auth store...");const{data:{session:n},error:r}=await k.auth.getSession();if(r)throw r;const{data:{user:s},error:t}=await k.auth.getUser();if(t)throw t;console.log("Auth initialization successful"),a({user:s,loading:!1,error:null})}catch(n){console.error("Error in auth initialization:",n),a({error:"×©×’×™××” ×‘×˜×¢×™× ×ª ×”××©×ª××©",loading:!1,user:null})}},signIn:async(n,r)=>{try{a({loading:!0,error:null});const{data:s,error:t}=await k.auth.signInWithPassword({email:n,password:r});if(t)throw t;return a({user:s.user,loading:!1}),{success:!0}}catch(s){return console.error("Error in signIn:",s),a({error:"×¤×¨×˜×™ ×”×ª×—×‘×¨×•×ª ×©×’×•×™×™×",loading:!1}),{success:!1,error:s}}},signUp:async(n,r)=>{try{a({loading:!0,error:null});const{data:s,error:t}=await k.auth.signUp({email:n,password:r});if(t)throw t;if(s!=null&&s.user){const{error:l}=await k.from("profiles").insert([{id:s.user.id}]);if(l)throw l}return a({user:s.user,loading:!1}),{success:!0}}catch(s){return console.error("Error in signUp:",s),a({error:"×©×’×™××” ×‘×”×¨×©××”",loading:!1}),{success:!1,error:s}}},signOut:async()=>{try{const{error:n}=await k.auth.signOut();if(n)throw n;a({user:null,loading:!1})}catch(n){console.error("Error in signOut:",n),a({error:"×©×’×™××” ×‘×”×ª× ×ª×§×•×ª"})}}}));function Se(){const[a,n]=d.useState(""),r=q(),{user:s,signOut:t}=S(),{openCart:l,getItemsCount:c}=C(),i=o=>{o.preventDefault(),a.trim()&&r(`/?search=${encodeURIComponent(a)}`)};return e.jsxs("header",{className:"w-full shadow-lg font-serif text-right bg-white",children:[e.jsxs("div",{className:"bg-[#f8f6f1] text-sm text-[#8b6f1f] px-6 py-2 flex justify-between items-center border-b",children:[e.jsxs("nav",{className:"flex gap-6",children:[e.jsx(u,{to:"/",className:"hover:text-[#a48327] transition",children:"×¨××©×™"}),e.jsx(u,{to:"/about",className:"hover:text-[#a48327] transition",children:"××•×“×•×ª×™× ×•"}),e.jsx(u,{to:"/categories",className:"hover:text-[#a48327] transition",children:"×§×˜×’×•×¨×™×•×ª"}),e.jsx(u,{to:"/contact",className:"hover:text-[#a48327] transition",children:"×™×¦×™×¨×ª ×§×©×¨"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:"text-xs",children:"××©×œ×•×— ×—×™× × ×‘×§× ×™×™×” ××¢×œ 250 â‚ª"}),e.jsx("span",{className:"text-xs border-r pr-4",children:"×”× ×—×ª ××–×•××Ÿ 10%"})]})]}),e.jsx("div",{className:"py-6 px-6",children:e.jsxs(u,{to:"/",className:"flex flex-col justify-center items-center gap-2",children:[e.jsx("img",{src:"/logo.png",alt:"×¡×¤×¨×™ ×§×•×“×© ×ª×œ×¤×™×•×ª",className:"h-48 object-contain",style:{filter:"brightness(0.85)"}}),e.jsx("p",{className:"text-[#112a55] text-2xl font-bold tracking-wide",style:{fontFamily:"Frank Ruhl Libre, serif"},children:"×”××§×•× ×”××•×©×œ× ×œ×¡×¤×¨×™ ×§×•×“×© ×‘××—×™×¨×™× × ×•×—×™×"})]})}),e.jsxs("div",{className:"bg-[#112a55] text-white px-6 py-4 flex flex-col lg:flex-row justify-between items-center gap-4",children:[e.jsxs("form",{onSubmit:i,className:"flex w-full max-w-md relative",children:[e.jsx("input",{type:"text",placeholder:"×—×¤×© ×¡×¤×¨×™×...",value:a,onChange:o=>n(o.target.value),className:"w-full px-4 py-2 pr-10 rounded-lg text-black text-sm border-2 border-transparent focus:border-[#a48327] outline-none transition-all duration-200"}),e.jsx("button",{type:"submit",className:"absolute left-2 top-1/2 -translate-y-1/2 text-gray-500 hover:text-[#a48327] transition-colors",children:e.jsx(O,{size:20})})]}),e.jsxs("div",{className:"flex items-center gap-6 text-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 text-[#f9e79f]",children:[e.jsx(L,{size:20,strokeWidth:1.5,className:"rotate-90"}),e.jsx("span",{children:"050-418-1216"})]}),s?e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(u,{to:"/user",className:"hover:text-yellow-400",children:e.jsx(M,{size:20,strokeWidth:1.5})}),e.jsx("button",{onClick:t,className:"text-sm hover:text-yellow-400",children:"×”×ª× ×ª×§"})]}):e.jsx(u,{to:"/login",className:"hover:text-yellow-400",children:e.jsx(M,{size:20,strokeWidth:1.5})}),e.jsxs("button",{onClick:l,title:"×¡×œ ×§× ×™×•×ª",className:"relative hover:text-yellow-400",children:[e.jsx(I,{size:20,strokeWidth:1.5}),e.jsx("span",{className:"absolute -top-2 -right-2 bg-red-600 text-white text-xs px-1 rounded-full",children:c()})]})]})]})]})}function _e(){return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden transform hover:scale-105 transition-all duration-300",children:[e.jsxs("div",{className:"relative h-48 overflow-hidden",children:[e.jsx("img",{src:"https://images.pexels.com/photos/159866/books-book-pages-read-literature-159866.jpeg",alt:"××‘×¦×¢ ××™×•×—×“",className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 to-transparent flex items-end p-6",children:e.jsxs("div",{className:"text-white",children:[e.jsx("h3",{className:"text-2xl font-bold mb-2",children:"××‘×¦×¢ ××™×•×—×“"}),e.jsx("p",{className:"text-sm opacity-90",children:"×§×‘×œ×• 20% ×”× ×—×” ×¢×œ ×›×œ ×¡×¤×¨×™ ×”×œ×›×”"})]})})]}),e.jsx("div",{className:"p-6 bg-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-2xl font-bold text-[#a48327]",children:"20% ×”× ×—×”"}),e.jsxs(u,{to:"/categories",className:"flex items-center gap-2 text-[#112a55] hover:text-[#1a3c70] transition-colors",children:[e.jsx("span",{children:"×œ×§×˜×œ×•×’"}),e.jsx(be,{size:20})]})]})})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden transform hover:scale-105 transition-all duration-300",children:[e.jsxs("div",{className:"relative h-48 overflow-hidden",children:[e.jsx("img",{src:"https://images.pexels.com/photos/2041540/pexels-photo-2041540.jpeg",alt:"×¡×¤×¨×™× ×—×“×©×™×",className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 to-transparent flex items-end p-6",children:e.jsxs("div",{className:"text-white",children:[e.jsx("h3",{className:"text-2xl font-bold mb-2",children:"×—×“×© ×¢×œ ×”××“×£"}),e.jsx("p",{className:"text-sm opacity-90",children:"×¡×¤×¨×™× ×—×“×©×™× ××’×™×¢×™× ×›×œ ×©×‘×•×¢"})]})})]}),e.jsx("div",{className:"p-6 bg-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-2xl font-bold text-[#a48327]",children:"××—×™×¨×™ ×”×©×§×”"}),e.jsxs(u,{to:"/categories",className:"flex items-center gap-2 text-[#112a55] hover:text-[#1a3c70] transition-colors",children:[e.jsx("span",{children:"×œ×—×“×©×™×"}),e.jsx(ye,{size:20})]})]})})]})]})}const ze=()=>{const a=d.useRef(null),[n,r]=d.useState([]),[s,t]=d.useState(!0),[l,c]=d.useState(null),{getNewArrivals:i}=$(),{addItem:o}=C(),[x,h]=d.useState(!0);d.useEffect(()=>{(async()=>{try{t(!0),c(null);const g=await i(),p=[...g,...g,...g];r(p)}catch(g){console.error("Error fetching new arrivals:",g),c("×©×’×™××” ×‘×˜×¢×™× ×ª ×”×¡×¤×¨×™×")}finally{t(!1)}})()},[i]),d.useEffect(()=>{const m=a.current;if(!m||!x)return;let g,p=0;const _=.5,b=w=>{p||(p=w);const z=w-p;p=w,m.scrollLeft+=_*z,m.scrollLeft>=m.scrollWidth/3&&(m.scrollLeft=0,p=w),g=requestAnimationFrame(b)};return g=requestAnimationFrame(b),()=>{g&&cancelAnimationFrame(g)}},[n,x]);const v=m=>{h(!1);const g=a.current;if(!g)return;const p=m==="left"?-300:300;g.scrollBy({left:p,behavior:"smooth"})},f=()=>{h(!1)},j=()=>{h(!0)};return s?e.jsx("div",{className:"text-center py-8",children:"×˜×•×¢×Ÿ..."}):l?e.jsx("div",{className:"text-center py-8 text-red-600",children:l}):e.jsxs("div",{className:"w-full overflow-hidden py-4 bg-[#f4ecd6] relative",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4 text-right text-[#2c1810] border-b-2 border-[#8b6f1f] pb-2 pr-4",children:"×—×“×©×™× ×‘××ª×¨"}),e.jsx("button",{onClick:()=>v("right"),className:"absolute left-2 top-1/2 transform -translate-y-1/2 bg-white/80 hover:bg-white p-2 rounded-full shadow-lg z-10 transition-all",children:e.jsx(P,{size:24,className:"text-[#2c1810]"})}),e.jsx("button",{onClick:()=>v("left"),className:"absolute right-2 top-1/2 transform -translate-y-1/2 bg-white/80 hover:bg-white p-2 rounded-full shadow-lg z-10 transition-all",children:e.jsx(ne,{size:24,className:"text-[#2c1810]"})}),e.jsx("div",{ref:a,className:"flex gap-6 overflow-x-hidden whitespace-nowrap px-4",style:{scrollBehavior:"auto"},onMouseEnter:f,onMouseLeave:j,children:n.map((m,g)=>e.jsxs("div",{className:"flex-shrink-0 w-48 cursor-pointer relative group bg-white rounded-xl shadow-md p-3",children:[e.jsxs(u,{to:`/books/${m.id}`,children:[e.jsx("img",{src:m.image_url||`https://via.placeholder.com/300x400.png?text=${encodeURIComponent(m.title)}`,alt:m.title,className:"w-full h-32 object-cover rounded-lg shadow group-hover:opacity-90 transition-opacity"}),e.jsx("p",{className:"text-center mt-3 font-serif text-lg text-[#2c1810]",children:m.title}),e.jsxs("p",{className:"text-center text-[#8b6f1f] font-bold mt-1",children:[m.price," â‚ª"]})]}),e.jsxs("button",{onClick:()=>o(m),className:"absolute bottom-0 left-0 right-0 bg-[#7c1c2c] text-white py-2 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2 rounded-b-xl",children:[e.jsx(I,{size:16}),"×”×•×¡×£ ×œ×¡×œ"]})]},`${m.id}-${g}`))})]})},Ie=()=>{const[a,n]=d.useState([]),[r,s]=d.useState(!0),[t,l]=d.useState(null),{getNewInMarket:c}=$(),{addItem:i}=C(),[o,x]=d.useState(0),h=3;d.useEffect(()=>{(async()=>{try{s(!0),l(null);const m=await c();n(m)}catch(m){console.error("Error fetching new in market books:",m),l("×©×’×™××” ×‘×˜×¢×™× ×ª ×”×¡×¤×¨×™×")}finally{s(!1)}})()},[c]);const v=Math.ceil(a.length/h),f=a.slice(o*h,o*h+h);return r?e.jsx("div",{className:"text-center py-8",children:"×˜×•×¢×Ÿ..."}):t?e.jsx("div",{className:"text-center py-8 text-red-600",children:t}):e.jsxs("div",{className:"w-full py-6 bg-[#f4ecd6]",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6 text-right text-[#2c1810] border-b-2 border-[#8b6f1f] pb-2 pr-4",children:"×—×“×©×™× ×‘×©×•×§"}),e.jsx("div",{className:"flex gap-8 justify-center px-4",children:f.map(j=>e.jsxs("div",{className:"w-48 cursor-pointer relative group bg-white rounded-xl shadow-md p-3",children:[e.jsxs(u,{to:`/books/${j.id}`,children:[e.jsx("img",{src:j.image_url?j.image_url:`https://via.placeholder.com/300x400.png?text=${encodeURIComponent(j.title)}`,alt:j.title,className:"w-full h-32 object-cover rounded-lg shadow group-hover:opacity-90 transition-opacity"}),e.jsx("p",{className:"text-center mt-3 font-serif text-lg text-[#2c1810]",children:j.title}),e.jsxs("p",{className:"text-center text-[#8b6f1f] font-bold mt-1",children:[j.price," â‚ª"]})]}),e.jsxs("button",{onClick:()=>i(j),className:"absolute bottom-0 left-0 right-0 bg-[#7c1c2c] text-white py-2 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2 rounded-b-xl",children:[e.jsx(I,{size:16}),"×”×•×¡×£ ×œ×¡×œ"]})]},j.id))}),e.jsx("div",{className:"flex justify-center mt-6 gap-2",children:Array.from({length:v}).map((j,m)=>e.jsx("button",{className:`w-3 h-3 rounded-full transition-colors ${m===o?"bg-[#2c1810]":"bg-[#8b6f1f]"} hover:bg-[#2c1810]`,onClick:()=>x(m)},m))})]})};function Ee(a){const n={},r=[];return a.forEach(s=>{n[s.id]={...s,children:[]}}),a.forEach(s=>{var t;s.parent_id?(t=n[s.parent_id])==null||t.children.push(n[s.id]):r.push(n[s.id])}),r}function $e({books:a,categoryName:n,onClose:r}){return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-2xl p-6 max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("h3",{className:"text-2xl font-bold text-[#112a55]",children:["×¡×¤×¨×™× ×‘×§×˜×’×•×¨×™×™×ª ",n]}),e.jsx("button",{onClick:r,className:"text-gray-500 hover:text-gray-700",children:"âœ•"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.length>0?a.map(s=>e.jsx(u,{to:`/books/${s.id}`,className:"bg-[#f8f6f1] rounded-xl p-4 hover:shadow-lg transition-all duration-300",children:e.jsxs("div",{className:"flex gap-4",children:[e.jsx("img",{src:s.image_url||`https://via.placeholder.com/100x150.png?text=${encodeURIComponent(s.title)}`,alt:s.title,className:"w-24 h-32 object-cover rounded"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-[#112a55]",children:s.title}),e.jsx("p",{className:"text-sm text-gray-600",children:s.author}),e.jsxs("p",{className:"text-[#a48327] font-bold mt-1",children:[s.price," â‚ª"]})]})]})},s.id)):e.jsx("p",{className:"col-span-full text-center text-gray-600",children:"××™×Ÿ ×¡×¤×¨×™× ×‘×§×˜×’×•×¨×™×” ×–×•"})})]})})}function qe({categories:a,books:n,onViewBooks:r}){return e.jsx("div",{className:"space-y-4",children:a.map(s=>e.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-shadow duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-xl font-bold text-[#112a55]",children:s.name}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("button",{onClick:()=>r(s.name),className:"flex items-center gap-2 text-[#a48327] hover:text-[#8b6f1f] transition-colors",title:"×¦×¤×” ×‘×›×œ ×”×¡×¤×¨×™×",children:[e.jsx(F,{size:20}),e.jsx("span",{children:"×›×œ ×”×¡×¤×¨×™×"})]}),s.children.length>0&&e.jsx(P,{className:"text-[#a48327]",size:20})]})]}),s.children.length>0&&e.jsx("div",{className:"mt-4 pr-6 space-y-3",children:s.children.map(t=>e.jsx("div",{className:"bg-[#f8f6f1] rounded-lg p-4 hover:bg-[#f0ece3] transition-colors duration-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-[#666]",children:t.name}),e.jsxs("button",{onClick:()=>r(t.name),className:"flex items-center gap-2 text-[#a48327] hover:text-[#8b6f1f] transition-colors",title:"×¦×¤×” ×‘×›×œ ×”×¡×¤×¨×™×",children:[e.jsx(F,{size:18}),e.jsx("span",{className:"text-sm",children:"×›×œ ×”×¡×¤×¨×™×"})]})]})},t.id))})]},s.id))})}function Le(){const{categories:a,loading:n,error:r,initialize:s}=V(),{books:t,loading:l,error:c,initialize:i}=$(),[o,x]=d.useState(""),[h,v]=d.useState([]),[f,j]=d.useState(null),m=Ee(a);d.useEffect(()=>{s(),i()},[s,i]),d.useEffect(()=>{if(o){const b=t.filter(w=>{var z,E;return w.title.toLowerCase().includes(o.toLowerCase())||((z=w.author)==null?void 0:z.toLowerCase().includes(o.toLowerCase()))||((E=w.category)==null?void 0:E.toLowerCase().includes(o.toLowerCase()))});v(b)}else v([])},[o,t]);const g=b=>{const w=t.filter(z=>{var E;return((E=z.category)==null?void 0:E.toLowerCase())===b.toLowerCase()});j({name:b,books:w})},p=n||l,_=r||c;return p?e.jsx("div",{className:"text-center py-8",children:"×˜×•×¢×Ÿ..."}):_?e.jsx("div",{className:"text-center py-8 text-red-600",children:_}):a.length===0?e.jsx("div",{className:"text-center py-8",children:"××™×Ÿ ×§×˜×’×•×¨×™×•×ª ×–××™× ×•×ª"}):e.jsxs("div",{className:"max-w-4xl mx-auto p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-[#112a55] mb-2",children:"×§×˜×’×•×¨×™×•×ª ×¡×¤×¨×™×"}),e.jsx("p",{className:"text-gray-600",children:"××¦× ××ª ×”×¡×¤×¨ ×”××•×©×œ× ×œ×¤×™ ×§×˜×’×•×¨×™×”"})]}),e.jsxs("div",{className:"relative mb-8",children:[e.jsx("input",{type:"text",placeholder:"×—×¤×© ×¡×¤×¨ ××• ×§×˜×’×•×¨×™×”...",value:o,onChange:b=>x(b.target.value),className:"w-full px-4 py-3 pr-12 rounded-xl border border-gray-300 focus:border-[#a48327] focus:ring-1 focus:ring-[#a48327] outline-none"}),e.jsx(O,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400",size:20})]}),o?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:h.map(b=>e.jsx(u,{to:`/books/${b.id}`,className:"bg-white rounded-xl p-4 shadow-md hover:shadow-lg transition-shadow duration-300",children:e.jsxs("div",{className:"flex gap-4",children:[e.jsx("img",{src:b.image_url||`https://via.placeholder.com/100x150.png?text=${encodeURIComponent(b.title)}`,alt:b.title,className:"w-24 h-32 object-cover rounded"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-[#112a55]",children:b.title}),e.jsx("p",{className:"text-sm text-gray-600",children:b.author}),e.jsxs("p",{className:"text-[#a48327] font-bold mt-2",children:[b.price," â‚ª"]})]})]})},b.id))}):e.jsx(qe,{categories:m,books:t,onViewBooks:g}),f&&e.jsx($e,{books:f.books,categoryName:f.name,onClose:()=>j(null)})]})}function Fe(){const{id:a}=J(),{books:n,loading:r,error:s}=$(),{addItem:t}=C(),l=n.find(i=>i.id===parseInt(a)),c=d.useMemo(()=>l?n.filter(i=>i.category===l.category&&i.id!==l.id).slice(0,4):[],[n,l]);return r?e.jsx("div",{className:"text-center py-8",children:"×˜×•×¢×Ÿ..."}):s?e.jsx("div",{className:"text-center py-8 text-red-600",children:s}):l?e.jsxs("div",{className:"max-w-6xl mx-auto p-4",children:[e.jsx(u,{to:"/",className:"text-[#112a55] hover:text-[#1a3c70] transition-colors mb-6 inline-flex items-center gap-2",children:"â† ×—×–×¨×” ×œ×§×˜×œ×•×’"}),e.jsx("div",{className:"bg-white shadow-xl rounded-2xl overflow-hidden mb-12",children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-8 p-8",children:[e.jsx("div",{className:"flex items-center justify-center bg-[#f8f6f1] rounded-xl p-8",children:e.jsx("img",{src:l.image_url||`https://via.placeholder.com/400x600.png?text=${encodeURIComponent(l.title)}`,alt:l.title,className:"max-h-[500px] object-contain rounded-lg shadow-lg"})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-[#112a55] mb-2",children:l.title}),e.jsx("p",{className:"text-xl text-gray-600 mb-4",children:l.author||"××—×‘×¨ ×œ× ×™×“×•×¢"}),e.jsx("div",{className:"flex items-center gap-2 text-[#a48327]",children:e.jsx("span",{className:"text-sm bg-[#fdf6ec] px-3 py-1 rounded-full",children:l.category})})]}),e.jsx("p",{className:"text-gray-700 text-lg leading-relaxed border-t border-b border-gray-100 py-4",children:l.description}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-3xl font-bold text-[#a48327]",children:[l.price," â‚ª"]}),e.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${l.availability==="available"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:l.availability==="available"?"âœ“ ×‘××œ××™":"Ã— ××–×œ ××”××œ××™"})]}),e.jsxs("button",{onClick:()=>l.availability==="available"&&t(l),className:`w-full py-4 rounded-xl flex items-center justify-center gap-3 text-lg font-bold transition-all duration-300 ${l.availability==="available"?"bg-[#7c1c2c] text-white hover:bg-[#66121f] transform hover:scale-105":"bg-gray-200 text-gray-500 cursor-not-allowed"}`,disabled:l.availability!=="available",children:[e.jsx(I,{size:24}),"×”×•×¡×£ ×œ×¡×œ ×”×§× ×™×•×ª"]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 pt-6 border-t",children:[e.jsxs("div",{className:"text-center",children:[e.jsx(H,{className:"mx-auto text-[#112a55] mb-2",size:24}),e.jsx("span",{className:"text-sm",children:"××©×œ×•×— ×—×™× ×"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx(A,{className:"mx-auto text-[#112a55] mb-2",size:24}),e.jsx("span",{className:"text-sm",children:"××©×œ×•×— ××”×™×¨"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx(fe,{className:"mx-auto text-[#112a55] mb-2",size:24}),e.jsx("span",{className:"text-sm",children:"××—×¨×™×•×ª ××œ××”"})]})]})]})]})}),c.length>0&&e.jsxs("div",{className:"bg-white shadow-lg rounded-2xl p-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-[#112a55] mb-6",children:"×¡×¤×¨×™× ×“×•××™×"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-6",children:c.map(i=>e.jsxs("div",{className:"bg-[#f8f6f1] rounded-xl p-4 transition-all duration-300 hover:shadow-lg hover:scale-105",children:[e.jsxs(u,{to:`/books/${i.id}`,children:[e.jsx("img",{src:i.image_url||`https://via.placeholder.com/200x300.png?text=${encodeURIComponent(i.title)}`,alt:i.title,className:"w-full h-48 object-contain mb-4"}),e.jsx("h3",{className:"font-bold text-[#112a55] mb-1",children:i.title}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:i.author}),e.jsxs("p",{className:"text-[#a48327] font-bold mb-3",children:[i.price," â‚ª"]})]}),e.jsxs("button",{onClick:()=>t(i),className:"w-full bg-[#7c1c2c] text-white py-2 rounded-lg hover:bg-[#66121f] flex items-center justify-center gap-2",children:[e.jsx(I,{size:16}),"×”×•×¡×£ ×œ×¡×œ"]})]},i.id))})]})]}):e.jsx("div",{className:"text-center py-8",children:"×”×¡×¤×¨ ×œ× × ××¦×"})}function Me(){return e.jsxs("div",{className:"max-w-4xl mx-auto p-4 text-center",children:[e.jsx("h2",{className:"text-3xl font-bold text-[#112a55] mb-4",children:"404 - ×”×¢××•×“ ×œ× × ××¦×"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"×”×¢××•×“ ×©×—×™×¤×©×ª ××™× ×• ×§×™×™×. ××•×œ×™ ×ª×¨×¦×” ×œ×—×–×•×¨ ×œ×¢××•×“ ×”×¨××©×™?"}),e.jsx(u,{to:"/",className:"bg-[#a48327] hover:bg-[#8b6f1f] text-white px-4 py-2 rounded",children:"×—×–×¨×” ×œ×¢××•×“ ×”×¨××©×™"})]})}function Re(){return e.jsxs("div",{className:"max-w-4xl mx-auto p-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-[#112a55] mb-6",children:"××•×“×•×ª ×¡×¤×¨×™ ×§×•×“×© ×ª×œ×¤×™×•×ª"}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 space-y-6",children:[e.jsxs("section",{children:[e.jsx("h2",{className:"text-xl font-bold text-[#a48327] mb-3",children:"××™ ×× ×—× ×•"}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:'×—× ×•×ª ×¡×¤×¨×™ ×§×•×“×© ×ª×œ×¤×™×•×ª ×”×•×§××” ×‘×©× ×ª ×ª×©"×¤ ××ª×•×š ××˜×¨×” ×œ×”× ×’×™×© ×¡×¤×¨×™ ×§×•×“×© ××™×›×•×ª×™×™× ×‘××—×™×¨×™× ×”×•×’× ×™×. ×”×—× ×•×ª ×©×œ× ×• ××ª××—×” ×‘××’×•×•×Ÿ ×¨×—×‘ ×©×œ ×¡×¤×¨×™ ×§×•×“×©, ××”×“×•×¨×•×ª ××™×•×—×“×•×ª, ×•×¡×¤×¨×™ ×œ×™××•×“ ×œ×›×œ ×”×’×™×œ××™×.'})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-xl font-bold text-[#a48327] mb-3",children:"×”××˜×¨×” ×©×œ× ×•"}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:"×× ×• ×©×•××¤×™× ×œ×”×™×•×ª ×”×›×ª×•×‘×ª ×”××•×¢×“×¤×ª ×œ×¨×›×™×©×ª ×¡×¤×¨×™ ×§×•×“×©, ×ª×•×š ×”×§×¤×“×” ×¢×œ:"}),e.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-2 text-gray-700",children:[e.jsx("li",{children:"××™×›×•×ª ××•×¦×¨×™× ×’×‘×•×”×”"}),e.jsx("li",{children:"×©×™×¨×•×ª ×œ×§×•×—×•×ª ××¦×•×™×Ÿ"}),e.jsx("li",{children:"××—×™×¨×™× ×”×•×’× ×™×"}),e.jsx("li",{children:"××‘×—×¨ ×¢×©×™×¨ ×•××ª×—×“×©"})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-xl font-bold text-[#a48327] mb-3",children:"×©×™×¨×•×ª×™× × ×•×¡×¤×™×"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-700",children:[e.jsx("li",{children:"×”×–×× ×•×ª ××™×•×—×“×•×ª ×©×œ ×¡×¤×¨×™×"}),e.jsx("li",{children:"××©×œ×•×—×™× ×œ×›×œ ×”××¨×¥"}),e.jsx("li",{children:"×›×¨×™×›×” ×•×ª×™×§×•×Ÿ ×¡×¤×¨×™×"}),e.jsx("li",{children:"×™×™×¢×•×¥ ××§×¦×•×¢×™ ×‘×‘×—×™×¨×ª ×¡×¤×¨×™×"})]})]})]})]})}function Ue(){const[a,n]=d.useState({name:"",email:"",phone:"",message:""}),[r,s]=d.useState(""),t=async c=>{c.preventDefault(),s("×©×•×œ×—..."),setTimeout(()=>{s("×”×”×•×“×¢×” × ×©×œ×—×” ×‘×”×¦×œ×—×”!"),n({name:"",email:"",phone:"",message:""})},1e3)},l=c=>{const{name:i,value:o}=c.target;n(x=>({...x,[i]:o}))};return e.jsxs("div",{className:"max-w-4xl mx-auto p-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-[#112a55] mb-6",children:"×¦×•×¨ ×§×©×¨"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsx("h2",{className:"text-xl font-bold text-[#a48327] mb-4",children:"×¤×¨×˜×™ ×”×ª×§×©×¨×•×ª"}),e.jsxs("div",{className:"space-y-4 text-gray-700",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold",children:"×›×ª×•×‘×ª:"}),e.jsx("p",{children:"×¨×—×•×‘ ×”×¨×‘ ×§×•×§ 12, ×™×¨×•×©×œ×™×"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold",children:"×˜×œ×¤×•×Ÿ:"}),e.jsx("p",{children:"050-418-1216"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold",children:"×©×¢×•×ª ×¤×¢×™×œ×•×ª:"}),e.jsx("p",{children:"×™××™× ×'-×”': 9:00-20:00"}),e.jsx("p",{children:"×™×•× ×•': 9:00-13:00"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold",children:'×“×•×"×œ:'}),e.jsx("p",{children:"info@talpiot-books.co.il"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsx("h2",{className:"text-xl font-bold text-[#a48327] mb-4",children:"×˜×•×¤×¡ ×™×¦×™×¨×ª ×§×©×¨"}),e.jsxs("form",{onSubmit:t,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-gray-700 mb-1",children:"×©× ××œ×"}),e.jsx("input",{type:"text",id:"name",name:"name",value:a.name,onChange:l,required:!0,className:"w-full border rounded p-2"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-gray-700 mb-1",children:'×“×•×"×œ'}),e.jsx("input",{type:"email",id:"email",name:"email",value:a.email,onChange:l,required:!0,className:"w-full border rounded p-2"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"phone",className:"block text-gray-700 mb-1",children:"×˜×œ×¤×•×Ÿ"}),e.jsx("input",{type:"tel",id:"phone",name:"phone",value:a.phone,onChange:l,className:"w-full border rounded p-2"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"message",className:"block text-gray-700 mb-1",children:"×”×•×“×¢×”"}),e.jsx("textarea",{id:"message",name:"message",value:a.message,onChange:l,required:!0,rows:"4",className:"w-full border rounded p-2"})]}),e.jsx("button",{type:"submit",className:"bg-[#a48327] text-white py-2 px-6 rounded hover:bg-[#8b6f1f] transition-colors",children:"×©×œ×— ×”×•×“×¢×”"}),r&&e.jsx("p",{className:"text-green-600 text-center",children:r})]})]})]})]})}function Oe(){const a=q(),{signIn:n,signUp:r,error:s}=S(),[t,l]=d.useState(!0),[c,i]=d.useState({email:"",password:""}),o=async h=>{h.preventDefault();const{email:v,password:f}=c;(t?await n(v,f):await r(v,f)).success&&a("/user")},x=h=>{const{name:v,value:f}=h.target;i(j=>({...j,[v]:f}))};return e.jsxs("div",{className:"max-w-md mx-auto p-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-[#112a55] mb-6 text-center",children:t?"×”×ª×—×‘×¨×•×ª":"×”×¨×©××”"}),e.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:e.jsxs("form",{onSubmit:o,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-gray-700 mb-1",children:'×“×•×"×œ'}),e.jsx("input",{type:"email",id:"email",name:"email",value:c.email,onChange:x,required:!0,className:"w-full border rounded p-2"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-gray-700 mb-1",children:"×¡×™×¡××”"}),e.jsx("input",{type:"password",id:"password",name:"password",value:c.password,onChange:x,required:!0,className:"w-full border rounded p-2"})]}),s&&e.jsx("p",{className:"text-red-600 text-sm",children:s}),e.jsx("button",{type:"submit",className:"w-full bg-[#a48327] text-white py-2 rounded hover:bg-[#8b6f1f] transition-colors",children:t?"×”×ª×—×‘×¨":"×”×™×¨×©×"}),e.jsxs("p",{className:"text-center text-gray-600",children:[t?"××™×Ÿ ×œ×š ×—×©×‘×•×Ÿ?":"×›×‘×¨ ×™×© ×œ×š ×—×©×‘×•×Ÿ?",e.jsx("button",{type:"button",onClick:()=>l(!t),className:"text-[#112a55] hover:underline mr-1",children:t?"×”×™×¨×©×":"×”×ª×—×‘×¨"})]})]})})]})}function De(){const{user:a}=S(),[n,r]=d.useState({name:"",phone:"",address:""}),[s,t]=d.useState(""),[l,c]=d.useState(!0);d.useEffect(()=>{a&&(async()=>{try{c(!0);const{data:h,error:v}=await k.from("profiles").select("*").eq("id",a.id).single();if(v)throw v;h&&r({name:h.name||"",phone:h.phone||"",address:h.address||""})}catch(h){console.error("Error fetching profile:",h),t("×©×’×™××” ×‘×˜×¢×™× ×ª ×”×¤×¨×•×¤×™×œ")}finally{c(!1)}})()},[a]);const i=async x=>{x.preventDefault(),t("×©×•××¨ ×©×™× ×•×™×™×...");try{const{error:h}=await k.from("profiles").upsert({id:a.id,...n,updated_at:new Date});if(h)throw h;t("×”×¤×¨×˜×™× × ×©××¨×• ×‘×”×¦×œ×—×”!")}catch(h){console.error("Error updating profile:",h),t("×©×’×™××” ×‘×©××™×¨×ª ×”×¤×¨×˜×™×")}},o=x=>{const{name:h,value:v}=x.target;r(f=>({...f,[h]:v}))};return l?e.jsx("div",{children:"×˜×•×¢×Ÿ..."}):e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-[#112a55] mb-6",children:"×¤×¨×˜×™× ××™×©×™×™×"}),e.jsxs("form",{onSubmit:i,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-gray-700 mb-1",children:"×©× ××œ×"}),e.jsx("input",{type:"text",id:"name",name:"name",value:n.name,onChange:o,className:"w-full border rounded p-2"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-gray-700 mb-1",children:'×“×•×"×œ'}),e.jsx("input",{type:"email",value:a==null?void 0:a.email,disabled:!0,className:"w-full border rounded p-2 bg-gray-100"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"phone",className:"block text-gray-700 mb-1",children:"×˜×œ×¤×•×Ÿ"}),e.jsx("input",{type:"tel",id:"phone",name:"phone",value:n.phone,onChange:o,className:"w-full border rounded p-2"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"address",className:"block text-gray-700 mb-1",children:"×›×ª×•×‘×ª"}),e.jsx("textarea",{id:"address",name:"address",value:n.address,onChange:o,rows:"3",className:"w-full border rounded p-2"})]}),e.jsx("button",{type:"submit",className:"bg-[#a48327] text-white py-2 px-6 rounded hover:bg-[#8b6f1f] transition-colors",children:"×©××•×¨ ×©×™× ×•×™×™×"}),s&&e.jsx("p",{className:s.includes("×©×’×™××”")?"text-red-600":"text-green-600",children:s})]})]})}function Be(){const[a,n]=d.useState([]),[r,s]=d.useState(!0),[t,l]=d.useState(null),{user:c}=S();return d.useEffect(()=>{c&&(async()=>{try{s(!0);const{data:o,error:x}=await k.from("orders").select(`
            *,
            order_items:order_items (
              *,
              book:books (
                title,
                price
              )
            )
          `).eq("user_id",c.id).order("created_at",{ascending:!1});if(x)throw x;n(o||[])}catch(o){console.error("Error fetching orders:",o),l("×©×’×™××” ×‘×˜×¢×™× ×ª ×”×”×–×× ×•×ª")}finally{s(!1)}})()},[c]),r?e.jsx("div",{children:"×˜×•×¢×Ÿ ×”×–×× ×•×ª..."}):t?e.jsx("div",{className:"text-red-600",children:t}):e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-[#112a55] mb-6",children:"×”×”×–×× ×•×ª ×©×œ×™"}),a.length===0?e.jsx("p",{className:"text-gray-600",children:"×¢×“×™×™×Ÿ ××™×Ÿ ×”×–×× ×•×ª"}):e.jsx("div",{className:"space-y-4",children:a.map(i=>e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("span",{className:"font-bold",children:["×”×–×× ×” #",i.id.slice(0,8)]}),e.jsx("span",{className:"text-sm text-gray-600",children:new Date(i.created_at).toLocaleDateString("he-IL")})]}),e.jsx("div",{className:"space-y-2",children:i.order_items.map(o=>e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{children:[o.book.title," (x",o.quantity,")"]}),e.jsxs("span",{children:[o.price," â‚ª"]})]},o.id))}),e.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[e.jsxs("span",{className:"font-bold",children:['×¡×”"×›: ',i.total," â‚ª"]}),e.jsx("span",{className:`px-2 py-1 rounded text-sm ${i.status==="completed"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:i.status==="completed"?"×”×•×©×œ×":"×‘×˜×™×¤×•×œ"})]})]},i.id))})]})}function Pe(){const[a,n]=d.useState([]),[r,s]=d.useState(!0),[t,l]=d.useState(null),{user:c}=S(),i=async()=>{if(c)try{s(!0),l(null);const{data:x,error:h}=await k.from("wishlists").select(`
          *,
          book:books (
            id,
            title,
            author,
            price,
            image_url
          )
        `).eq("user_id",c.id);if(h)throw h;n(x||[])}catch(x){console.error("Error fetching wishlist:",x),l("×©×’×™××” ×‘×˜×¢×™× ×ª ×¨×©×™××ª ×”××©××œ×•×ª")}finally{s(!1)}};d.useEffect(()=>{i()},[c]);const o=async x=>{try{l(null);const{error:h}=await k.from("wishlists").delete().eq("id",x);if(h)throw h;await i()}catch(h){console.error("Error removing from wishlist:",h),l("×©×’×™××” ×‘××—×™×§×” ××¨×©×™××ª ×”××©××œ×•×ª")}};return r?e.jsx("div",{className:"text-center py-4",children:"×˜×•×¢×Ÿ ×¨×©×™××ª ××©××œ×•×ª..."}):t?e.jsxs("div",{className:"text-center py-4",children:[e.jsx("p",{className:"text-red-600 mb-2",children:t}),e.jsx("button",{onClick:i,className:"text-[#112a55] hover:underline",children:"× ×¡×” ×©×•×‘"})]}):e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-[#112a55] mb-6",children:"×¨×©×™××ª ×”××©××œ×•×ª ×©×œ×™"}),a.length===0?e.jsx("p",{className:"text-gray-600",children:"×¨×©×™××ª ×”××©××œ×•×ª ×¨×™×§×”"}):e.jsx("div",{className:"grid gap-4",children:a.map(x=>e.jsxs("div",{className:"flex items-center gap-4 border rounded-lg p-4 hover:shadow-lg transition-shadow",children:[e.jsx("img",{src:x.book.image_url||`https://via.placeholder.com/200x300.png?text=${encodeURIComponent(x.book.title)}`,alt:x.book.title,className:"w-20 h-28 object-contain rounded"}),e.jsxs("div",{className:"flex-1",children:[e.jsx(u,{to:`/books/${x.book.id}`,className:"font-bold text-[#112a55] hover:text-[#1a3c70] transition-colors",children:x.book.title}),x.book.author&&e.jsx("p",{className:"text-gray-600 text-sm",children:x.book.author}),e.jsxs("p",{className:"text-[#a48327] font-bold mt-1",children:[x.book.price," â‚ª"]})]}),e.jsx("button",{onClick:()=>o(x.id),className:"p-2 text-red-600 hover:text-red-800 hover:bg-red-50 rounded-full transition-colors",title:"×”×¡×¨ ××¨×©×™××ª ×”××©××œ×•×ª",children:e.jsx(D,{size:20})})]},x.id))})]})}function Ae(){const{user:a,loading:n}=S();return n?e.jsx("div",{className:"text-center py-8",children:"×˜×•×¢×Ÿ..."}):a?e.jsxs("div",{className:"max-w-6xl mx-auto p-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-[#112a55] mb-6",children:"××–×•×¨ ××™×©×™"}),e.jsxs("div",{className:"grid md:grid-cols-4 gap-8",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:e.jsxs("nav",{className:"space-y-2",children:[e.jsx(u,{to:"/user",className:"block py-2 px-4 rounded hover:bg-gray-100 transition",children:"×¤×¨×•×¤×™×œ"}),e.jsx(u,{to:"/user/orders",className:"block py-2 px-4 rounded hover:bg-gray-100 transition",children:"×”×–×× ×•×ª"}),e.jsx(u,{to:"/user/wishlist",className:"block py-2 px-4 rounded hover:bg-gray-100 transition",children:"×¨×©×™××ª ××©××œ×•×ª"})]})}),e.jsx("div",{className:"md:col-span-3 bg-white rounded-xl shadow-lg p-6",children:e.jsxs(B,{children:[e.jsx(N,{index:!0,element:e.jsx(De,{})}),e.jsx(N,{path:"orders",element:e.jsx(Be,{})}),e.jsx(N,{path:"wishlist",element:e.jsx(Pe,{})})]})})]})]}):e.jsx(Y,{to:"/login",replace:!0})}function Te(){var j,m,g;const a=q(),{items:n,getTotal:r,clearCart:s}=C(),{user:t}=S(),[l,c]=d.useState({name:((j=t==null?void 0:t.user_metadata)==null?void 0:j.name)||"",phone:((m=t==null?void 0:t.user_metadata)==null?void 0:m.phone)||"",email:(t==null?void 0:t.email)||"",address:((g=t==null?void 0:t.user_metadata)==null?void 0:g.address)||"",notes:""}),[i,o]=d.useState(""),[x,h]=d.useState(!1);if(n.length===0&&!x)return e.jsxs("div",{className:"max-w-4xl mx-auto p-8 text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-[#112a55] mb-4",children:"×”×¢×’×œ×” ×¨×™×§×”"}),e.jsx("button",{onClick:()=>a("/"),className:"text-[#a48327] hover:text-[#8b6f1f]",children:"×—×–×¨×” ×œ×—× ×•×ª"})]});if(x)return e.jsx("div",{className:"max-w-4xl mx-auto p-8 text-center",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 space-y-6",children:[e.jsx("h2",{className:"text-3xl font-bold text-[#112a55]",children:"×ª×•×“×” ×¢×œ ×”×§× ×™×™×”!"}),e.jsx("p",{className:"text-xl text-[#a48327]",children:"×”×”×–×× ×” ×”×ª×§×‘×œ×” ×‘×”×¦×œ×—×”"}),e.jsxs("div",{className:"text-gray-600 space-y-2",children:[e.jsx("p",{children:"× ×™×¦×•×¨ ××™×ª×š ×§×©×¨ ×‘×”×§×“× ×œ×ª×™××•× ×”×ª×©×œ×•× ×•×”××©×œ×•×—."}),e.jsxs("p",{children:["××¡×¤×¨ ×”×–×× ×”: ",Math.random().toString(36).substr(2,9).toUpperCase()]})]}),e.jsxs("div",{className:"pt-6 border-t",children:[e.jsx("p",{className:"text-lg font-semibold text-[#112a55] mb-4",children:"×”××©×š ×™×•× × ×¢×™×!"}),e.jsx("p",{className:"text-gray-500",children:"× ×ª×¨××” ×©×•×‘ ×‘×§×¨×•×‘ ğŸ˜Š"})]}),e.jsx("button",{onClick:()=>a("/"),className:"mt-6 bg-[#a48327] text-white py-3 px-8 rounded-lg hover:bg-[#8b6f1f] transition-colors",children:"×—×–×¨×” ×œ×—× ×•×ª"})]})});const v=async p=>{p.preventDefault(),o("×©×•×œ×— ×”×–×× ×”..."),setTimeout(()=>{o("×”×”×–×× ×” ×”×ª×§×‘×œ×” ×‘×”×¦×œ×—×”!"),s(),h(!0)},1500)},f=p=>{const{name:_,value:b}=p.target;c(w=>({...w,[_]:b}))};return e.jsxs("div",{className:"max-w-6xl mx-auto p-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-[#112a55] mb-8 text-center",children:"×¡×™×•× ×”×–×× ×”"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[e.jsx("h2",{className:"text-xl font-bold text-[#a48327] mb-6",children:"×¤×¨×˜×™ ×”×ª×§×©×¨×•×ª"}),e.jsxs("form",{onSubmit:v,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-gray-700 mb-1",children:"×©× ××œ× *"}),e.jsx("input",{type:"text",id:"name",name:"name",value:l.name,onChange:f,required:!0,className:"w-full border rounded-lg px-4 py-2 focus:ring-2 focus:ring-[#a48327] focus:border-transparent outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"phone",className:"block text-gray-700 mb-1",children:"×˜×œ×¤×•×Ÿ *"}),e.jsxs("div",{className:"relative",children:[e.jsx(L,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),e.jsx("input",{type:"tel",id:"phone",name:"phone",value:l.phone,onChange:f,required:!0,className:"w-full border rounded-lg px-4 py-2 pr-10 focus:ring-2 focus:ring-[#a48327] focus:border-transparent outline-none",placeholder:"050-1234567"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-gray-700 mb-1",children:'×“×•×"×œ'}),e.jsxs("div",{className:"relative",children:[e.jsx(T,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),e.jsx("input",{type:"email",id:"email",name:"email",value:l.email,onChange:f,className:"w-full border rounded-lg px-4 py-2 pr-10 focus:ring-2 focus:ring-[#a48327] focus:border-transparent outline-none"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"address",className:"block text-gray-700 mb-1",children:"×›×ª×•×‘×ª ×œ××©×œ×•×— *"}),e.jsxs("div",{className:"relative",children:[e.jsx(he,{className:"absolute right-3 top-3 text-gray-400",size:18}),e.jsx("textarea",{id:"address",name:"address",value:l.address,onChange:f,required:!0,rows:"2",className:"w-full border rounded-lg px-4 py-2 pr-10 focus:ring-2 focus:ring-[#a48327] focus:border-transparent outline-none"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"notes",className:"block text-gray-700 mb-1",children:"×”×¢×¨×•×ª ×œ×”×–×× ×”"}),e.jsx("textarea",{id:"notes",name:"notes",value:l.notes,onChange:f,rows:"3",className:"w-full border rounded-lg px-4 py-2 focus:ring-2 focus:ring-[#a48327] focus:border-transparent outline-none"})]}),e.jsx("button",{type:"submit",className:"w-full bg-[#7c1c2c] text-white py-3 rounded-lg hover:bg-[#66121f] transition-colors text-lg font-bold mt-6",children:"×©×œ×— ×”×–×× ×”"}),i&&e.jsx("div",{className:"text-center mt-4 text-green-600 font-semibold",children:i})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[e.jsx("h2",{className:"text-xl font-bold text-[#a48327] mb-6",children:"×¤×¨×˜×™ ×”×”×–×× ×”"}),e.jsxs("div",{className:"space-y-4",children:[n.map(p=>e.jsxs("div",{className:"flex gap-4 border-b pb-4",children:[e.jsx("img",{src:p.image_url||`https://via.placeholder.com/100x150.png?text=${encodeURIComponent(p.title)}`,alt:p.title,className:"w-20 h-28 object-cover rounded"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-bold text-[#112a55]",children:p.title}),e.jsx("p",{className:"text-sm text-gray-600",children:p.author}),e.jsxs("div",{className:"flex justify-between items-center mt-2",children:[e.jsxs("span",{className:"text-[#a48327] font-bold",children:[p.price," â‚ª"]}),e.jsxs("span",{className:"text-gray-600",children:["×›××•×ª: ",p.quantity]})]})]})]},p.id)),e.jsxs("div",{className:"border-t pt-4 mt-6",children:[e.jsxs("div",{className:"flex justify-between items-center text-lg font-bold",children:[e.jsx("span",{children:'×¡×”"×› ×œ×ª×©×œ×•×:'}),e.jsxs("span",{className:"text-[#7c1c2c]",children:[r()," â‚ª"]})]}),e.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"* ×”×ª×©×œ×•× ×™×ª×‘×¦×¢ ×‘××¢××“ ×”××¡×™×¨×” ××• ×‘×©×™×—×” ×˜×œ×¤×•× ×™×ª"})]})]})]})]})]})}function We(){return e.jsxs("div",{className:"max-w-4xl mx-auto p-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-[#112a55] mb-6",children:"×ª×§× ×•×Ÿ ×”××ª×¨"}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 space-y-6",children:[e.jsxs("section",{children:[e.jsx("h2",{className:"text-xl font-bold text-[#a48327] mb-3",children:"×›×œ×œ×™"}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:"×ª×§× ×•×Ÿ ×–×” ××¡×“×™×¨ ××ª ×ª× ××™ ×”×©×™××•×© ×‘××ª×¨ ×¡×¤×¨×™ ×§×•×“×© ×ª×œ×¤×™×•×ª. ×”×©×™××•×© ×‘××ª×¨ ××”×•×•×” ×”×¡×›××” ×œ×ª× ××™× ××œ×•."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-xl font-bold text-[#a48327] mb-3",children:"×¨×›×™×©×” ×‘××ª×¨"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-700",children:[e.jsx("li",{children:'×”××—×™×¨×™× ×‘××ª×¨ ×›×•×œ×œ×™× ××¢"×'}),e.jsx("li",{children:"×”×ª×©×œ×•× ××ª×‘×¦×¢ ×‘××¢××“ ×”×”×–×× ×”"}),e.jsx("li",{children:"× ×™×ª×Ÿ ×œ×‘×˜×œ ×¢×¡×§×” ×‘×ª×•×š 14 ×™×•×"}),e.jsx("li",{children:"×”×¡×¤×¨×™× × ×©×œ×—×™× ×‘××¨×™×–×” ×××•×‘×˜×—×ª"})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-xl font-bold text-[#a48327] mb-3",children:"×¤×¨×˜×™×•×ª"}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:"×× ×• ××ª×—×™×™×‘×™× ×œ×©××•×¨ ×¢×œ ×¤×¨×˜×™×•×ª ×”×œ×§×•×—×•×ª ×•×œ× ×œ×”×¢×‘×™×¨ ××™×“×¢ ×œ×¦×“ ×©×œ×™×©×™ ×œ×œ× ×”×¡×›××” ××¤×•×¨×©×ª."})]})]})]})}function Qe(){return e.jsxs("div",{className:"max-w-4xl mx-auto p-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-[#112a55] mb-6",children:"××“×™× ×™×•×ª ××©×œ×•×—×™×"}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 space-y-6",children:[e.jsxs("section",{children:[e.jsx("h2",{className:"text-xl font-bold text-[#a48327] mb-3",children:"×–×× ×™ ××©×œ×•×—"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-700",children:[e.jsx("li",{children:"××©×œ×•×— ×¨×’×™×œ: 3-5 ×™××™ ×¢×¡×§×™×"}),e.jsx("li",{children:"××©×œ×•×— ××”×™×¨: ×¢×“ 24 ×©×¢×•×ª"}),e.jsx("li",{children:"××™×¡×•×£ ×¢×¦××™: ×–××™×Ÿ ×‘×©×¢×•×ª ×¤×¢×™×œ×•×ª ×”×—× ×•×ª"})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-xl font-bold text-[#a48327] mb-3",children:"×¢×œ×•×™×•×ª ××©×œ×•×—"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-700",children:[e.jsx("li",{children:"××©×œ×•×— ×—×™× × ×‘×§× ×™×™×” ××¢×œ 250 â‚ª"}),e.jsx("li",{children:"××©×œ×•×— ×¨×’×™×œ: 25 â‚ª"}),e.jsx("li",{children:"××©×œ×•×— ××”×™×¨: 45 â‚ª"}),e.jsx("li",{children:"××™×¡×•×£ ×¢×¦××™: ×œ×œ× ×¢×œ×•×ª"})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-xl font-bold text-[#a48327] mb-3",children:"××–×•×¨×™ ×—×œ×•×§×”"}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:"×× ×• ××¡×¤×§×™× ××©×œ×•×—×™× ×œ×›×œ ×¨×—×‘×™ ×”××¨×¥. ×–×× ×™ ×”××©×œ×•×— ×¢×©×•×™×™× ×œ×”×©×ª× ×•×ª ×‘×”×ª×× ×œ××™×§×•×."})]})]})]})}function Ve(){return e.jsxs("div",{className:"max-w-4xl mx-auto p-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-[#112a55] mb-6",children:"××“×™× ×™×•×ª ×”×—×–×¨×•×ª"}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 space-y-6",children:[e.jsxs("section",{children:[e.jsx("h2",{className:"text-xl font-bold text-[#a48327] mb-3",children:"×ª× ××™ ×”×—×–×¨×”"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-700",children:[e.jsx("li",{children:"× ×™×ª×Ÿ ×œ×”×—×–×™×¨ ××•×¦×¨×™× ×¢×“ 14 ×™×•× ××™×•× ×”×§×‘×œ×”"}),e.jsx("li",{children:"×”××•×¦×¨ ×—×™×™×‘ ×œ×”×™×•×ª ×‘××¦×‘ ×—×“×© ×•×œ×œ× ×¤×’×™×¢×”"}),e.jsx("li",{children:"×™×© ×œ×©××•×¨ ××ª ×—×©×‘×•× ×™×ª ×”×§× ×™×™×”"}),e.jsx("li",{children:"×”×”×—×–×¨ ×”×›×¡×¤×™ ×™×‘×•×¦×¢ ×‘×××¦×¢×™ ×”×ª×©×œ×•× ×”××§×•×¨×™"})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-xl font-bold text-[#a48327] mb-3",children:"×ª×”×œ×™×š ×”×”×—×–×¨×”"}),e.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-gray-700",children:[e.jsx("li",{children:"×™×© ×œ×™×¦×•×¨ ×§×©×¨ ×¢× ×©×™×¨×•×ª ×”×œ×§×•×—×•×ª"}),e.jsx("li",{children:"×§×‘×œ×ª ××™×©×•×¨ ×”×—×–×¨×”"}),e.jsx("li",{children:"×©×œ×™×—×ª ×”××•×¦×¨ ×‘×—×–×¨×” ×œ×—× ×•×ª"}),e.jsx("li",{children:"×‘×“×™×§×ª ×”××•×¦×¨ ×•×‘×™×¦×•×¢ ×”×”×—×–×¨ ×”×›×¡×¤×™"})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-xl font-bold text-[#a48327] mb-3",children:"×”×—×–×¨ ×›×¡×¤×™"}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:"×”×”×—×–×¨ ×”×›×¡×¤×™ ×™×‘×•×¦×¢ ×ª×•×š 14 ×™××™ ×¢×¡×§×™× ××™×•× ×§×‘×œ×ª ×”××•×¦×¨ ×‘×—× ×•×ª."})]})]})]})}function Je(){const a=[{question:"××”× ×–×× ×™ ×”××©×œ×•×—?",answer:"××©×œ×•×— ×¨×’×™×œ: 3-5 ×™××™ ×¢×¡×§×™×. ××©×œ×•×— ××”×™×¨: ×¢×“ 24 ×©×¢×•×ª."},{question:"×”×× ×™×© ××©×œ×•×— ×—×™× ×?",answer:"×›×Ÿ, ×‘×§× ×™×™×” ××¢×œ 250 â‚ª ×”××©×œ×•×— ×—×™× ×."},{question:"××” ××“×™× ×™×•×ª ×”×”×—×–×¨×•×ª?",answer:"× ×™×ª×Ÿ ×œ×”×—×–×™×¨ ××•×¦×¨×™× ×¢×“ 14 ×™×•× ××™×•× ×”×§×‘×œ×”, ×›×œ ×¢×•×“ ×”××•×¦×¨ ×‘××¦×‘ ×—×“×©."},{question:"×”×× × ×™×ª×Ÿ ×œ××¡×•×£ ×¢×¦×××™×ª ××”×—× ×•×ª?",answer:"×›×Ÿ, × ×™×ª×Ÿ ×œ××¡×•×£ ××”×—× ×•×ª ×‘×©×¢×•×ª ×”×¤×¢×™×œ×•×ª ×œ×œ× ×¢×œ×•×ª ××©×œ×•×—."},{question:"××™×š × ×™×ª×Ÿ ×œ×™×¦×•×¨ ×§×©×¨?",answer:"× ×™×ª×Ÿ ×œ×™×¦×•×¨ ×§×©×¨ ×‘×˜×œ×¤×•×Ÿ 050-418-1216 ××• ×‘××™×™×œ info@talpiot-books.co.il"}];return e.jsxs("div",{className:"max-w-4xl mx-auto p-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-[#112a55] mb-6",children:"×©××œ×•×ª × ×¤×•×¦×•×ª"}),e.jsx("div",{className:"bg-white rounded-xl shadow-lg p-8",children:e.jsx("div",{className:"space-y-6",children:a.map((n,r)=>e.jsxs("div",{className:"border-b last:border-0 pb-6 last:pb-0",children:[e.jsx("h2",{className:"text-xl font-bold text-[#a48327] mb-2",children:n.question}),e.jsx("p",{className:"text-gray-700",children:n.answer})]},r))})})]})}function He({onClose:a}){const[n,r]=d.useState(""),[s,t]=d.useState(""),l=async c=>{c.preventDefault(),t("×©×•×œ×—..."),setTimeout(()=>{t("×”×§×•×¤×•×Ÿ × ×©×œ×— ×œ×›×ª×•×‘×ª ×”××™×™×œ ×©×œ×š!"),localStorage.setItem("couponShown","true"),setTimeout(()=>{a()},2e3)},1e3)};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50 animate-fade-in",children:e.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-md w-full relative animate-slide-up shadow-2xl",children:[e.jsx("button",{onClick:a,className:"absolute left-4 top-4 text-gray-500 hover:text-gray-700 transition-colors",children:e.jsx(W,{size:24})}),e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-[#112a55] mb-4",children:"ğŸ‰ ××‘×¦×¢ ××™×•×—×“!"}),e.jsx("p",{className:"text-gray-600 text-lg mb-4",children:"×”×™×¨×©× ×¢×›×©×™×• ×•×§×‘×œ:"}),e.jsxs("ul",{className:"text-[#a48327] font-bold space-y-2 text-xl",children:[e.jsx("li",{className:"bg-[#fdf6ec] py-2 px-4 rounded-lg",children:"××©×œ×•×— ×—×™× × ×‘×§× ×™×™×” ×”×¨××©×•× ×”"}),e.jsx("li",{className:"bg-[#fdf6ec] py-2 px-4 rounded-lg",children:"10% ×”× ×—×” ×¢×œ ×›×œ ×”×”×–×× ×”"})]})]}),e.jsxs("form",{onSubmit:l,className:"space-y-4",children:[e.jsx("div",{children:e.jsx("input",{type:"email",value:n,onChange:c=>r(c.target.value),placeholder:"×”×›× ×¡ ××ª ×›×ª×•×‘×ª ×”××™×™×œ ×©×œ×š",required:!0,className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:border-[#a48327] focus:ring-2 focus:ring-[#a48327] focus:ring-opacity-50 outline-none transition-all duration-200"})}),e.jsx("button",{type:"submit",className:"w-full bg-[#a48327] text-white py-3 rounded-lg hover:bg-[#8b6f1f] transition-colors text-lg font-semibold transform hover:scale-105 transition-transform duration-200",children:"×§×‘×œ ×§×•×¤×•×Ÿ"}),s&&e.jsx("p",{className:"text-center text-green-600 font-semibold animate-fade-in",children:s}),e.jsx("p",{className:"text-center text-gray-500 text-sm mt-4",children:"* ×”×§×•×¤×•×Ÿ ×ª×§×£ ×œ×©×‘×•×¢ ××™×•× ×§×‘×œ×ª×•"})]})]})})}function Ye(){const{items:a,isOpen:n,closeCart:r,removeItem:s,updateQuantity:t,getTotal:l,getItemsCount:c}=C();return n?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-end",children:e.jsxs("div",{className:"bg-white w-full max-w-md h-full flex flex-col animate-slide-in-right",children:[e.jsxs("div",{className:"p-4 bg-[#112a55] text-white flex justify-between items-center",children:[e.jsxs("h2",{className:"text-xl font-bold",children:["×¡×œ ×§× ×™×•×ª (",c()," ×¤×¨×™×˜×™×)"]}),e.jsx("button",{onClick:r,className:"hover:text-gray-300",children:e.jsx(W,{size:24})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:a.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx("p",{className:"text-xl mb-4",children:"×¡×œ ×”×§× ×™×•×ª ×¨×™×§"}),e.jsx("button",{onClick:r,className:"text-[#112a55] hover:text-[#1a3c70] font-semibold",children:"×”××©×š ×‘×§× ×™×•×ª"})]}):a.map(i=>e.jsxs("div",{className:"bg-white rounded-lg shadow p-4 flex gap-4",children:[e.jsx("img",{src:i.image_url||`https://via.placeholder.com/100x150.png?text=${encodeURIComponent(i.title)}`,alt:i.title,className:"w-20 h-28 object-cover rounded"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h3",{className:"font-bold text-[#112a55]",children:i.title}),e.jsx("button",{onClick:()=>s(i.id),className:"text-red-500 hover:text-red-700",children:e.jsx(D,{size:18})})]}),e.jsx("p",{className:"text-sm text-gray-600",children:i.author}),e.jsxs("p",{className:"text-[#a48327] font-bold",children:[i.price," â‚ª"]}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx("button",{onClick:()=>t(i.id,i.quantity-1),className:"p-1 rounded-full bg-gray-100 hover:bg-gray-200",children:e.jsx(ue,{size:16})}),e.jsx("span",{className:"w-8 text-center",children:i.quantity}),e.jsx("button",{onClick:()=>t(i.id,i.quantity+1),className:"p-1 rounded-full bg-gray-100 hover:bg-gray-200",children:e.jsx(U,{size:16})})]})]})]},i.id))}),a.length>0&&e.jsxs("div",{className:"border-t p-4 space-y-4",children:[e.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[e.jsx("span",{children:'×¡×”"×› ×œ×ª×©×œ×•×:'}),e.jsxs("span",{children:[l()," â‚ª"]})]}),e.jsx(u,{to:"/checkout",className:"block w-full bg-[#7c1c2c] text-white text-center py-3 rounded-lg hover:bg-[#66121f] transition-colors",onClick:r,children:"×”××©×š ×œ×ª×©×œ×•×"})]})]})}):null}function Xe(){const{initialize:a}=S(),{initialize:n}=C(),[r,s]=d.useState(!1);return d.useEffect(()=>{a(),n()},[a,n]),d.useEffect(()=>{if(!localStorage.getItem("couponShown")){const l=setTimeout(()=>{s(!0)},5e3);return()=>clearTimeout(l)}},[]),e.jsx(X,{children:e.jsxs("div",{dir:"rtl",className:"font-serif bg-[#f8f6f1] min-h-screen",children:[e.jsx(Se,{}),e.jsx("main",{className:"max-w-7xl mx-auto px-4 py-8",children:e.jsxs(B,{children:[e.jsx(N,{path:"/",element:e.jsxs("div",{className:"space-y-12",children:[e.jsx("section",{className:"bg-white rounded-2xl shadow-lg p-4",children:e.jsx(ze,{})}),e.jsx("section",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:e.jsx(_e,{})}),e.jsx("section",{className:"bg-white rounded-2xl shadow-lg p-4",children:e.jsx(Ie,{})}),e.jsx("section",{className:"bg-white rounded-2xl shadow-lg p-8",children:e.jsx(Ce,{})})]})}),e.jsx(N,{path:"/categories",element:e.jsx(Le,{})}),e.jsx(N,{path:"/books/:id",element:e.jsx(Fe,{})}),e.jsx(N,{path:"/about",element:e.jsx(Re,{})}),e.jsx(N,{path:"/contact",element:e.jsx(Ue,{})}),e.jsx(N,{path:"/login",element:e.jsx(Oe,{})}),e.jsx(N,{path:"/user/*",element:e.jsx(Ae,{})}),e.jsx(N,{path:"/checkout",element:e.jsx(Te,{})}),e.jsx(N,{path:"/terms",element:e.jsx(We,{})}),e.jsx(N,{path:"/shipping",element:e.jsx(Qe,{})}),e.jsx(N,{path:"/returns",element:e.jsx(Ve,{})}),e.jsx(N,{path:"/faq",element:e.jsx(Je,{})}),e.jsx(N,{path:"/admin",element:e.jsx(Z,{})}),e.jsx(N,{path:"/admin/orders",element:e.jsx(G,{})}),e.jsx(N,{path:"/admin/products",element:e.jsx(K,{})}),e.jsx(N,{path:"/admin/reports",element:e.jsx(ee,{})}),e.jsx(N,{path:"*",element:e.jsx(Me,{})})]})}),e.jsx("footer",{className:"bg-[#112a55] text-white py-12 mt-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"bg-[#1a3c70] rounded-2xl p-8 transform hover:scale-105 transition-transform duration-300 shadow-xl",children:[e.jsx("h3",{className:"text-2xl font-bold mb-6 text-[#f9e79f] text-center",children:"×¦×•×¨ ×§×©×¨"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-center gap-3",children:[e.jsx(L,{size:20,className:"rotate-90 text-[#f9e79f]"}),e.jsx("span",{children:"050-418-1216"})]}),e.jsxs("div",{className:"flex items-center justify-center gap-3",children:[e.jsx(T,{size:20,className:"text-[#f9e79f]"}),e.jsx("span",{children:"info@talpiot-books.co.il"})]}),e.jsxs("div",{className:"flex items-center justify-center gap-3",children:[e.jsx(A,{size:20,className:"text-[#f9e79f]"}),e.jsx("span",{children:"×'-×”' 9:00-20:00"})]})]})]}),e.jsxs("div",{className:"bg-[#1a3c70] rounded-2xl p-8 transform hover:scale-105 transition-transform duration-300 shadow-xl",children:[e.jsx("h3",{className:"text-2xl font-bold mb-6 text-[#f9e79f] text-center",children:"×©×™×¨×•×ª×™×"}),e.jsxs("ul",{className:"space-y-3 text-center",children:[e.jsx("li",{className:"hover:text-[#f9e79f] transition-colors",children:e.jsx(u,{to:"/shipping",children:"××©×œ×•×—×™× ×œ×›×œ ×”××¨×¥"})}),e.jsx("li",{className:"hover:text-[#f9e79f] transition-colors",children:e.jsx(u,{to:"/contact",children:"×”×–×× ×•×ª ××™×•×—×“×•×ª"})}),e.jsx("li",{className:"hover:text-[#f9e79f] transition-colors",children:e.jsx(u,{to:"/contact",children:"×›×¨×™×›×” ×•×ª×™×§×•×Ÿ ×¡×¤×¨×™×"})}),e.jsx("li",{className:"hover:text-[#f9e79f] transition-colors",children:e.jsx(u,{to:"/contact",children:"×™×™×¢×•×¥ ××§×¦×•×¢×™"})})]})]}),e.jsxs("div",{className:"bg-[#1a3c70] rounded-2xl p-8 transform hover:scale-105 transition-transform duration-300 shadow-xl",children:[e.jsx("h3",{className:"text-2xl font-bold mb-6 text-[#f9e79f] text-center",children:"××™×“×¢ × ×•×¡×£"}),e.jsxs("ul",{className:"space-y-3 text-center",children:[e.jsx("li",{className:"hover:text-[#f9e79f] transition-colors",children:e.jsx(u,{to:"/terms",children:"×ª×§× ×•×Ÿ ×”××ª×¨"})}),e.jsx("li",{className:"hover:text-[#f9e79f] transition-colors",children:e.jsx(u,{to:"/shipping",children:"××“×™× ×™×•×ª ××©×œ×•×—×™×"})}),e.jsx("li",{className:"hover:text-[#f9e79f] transition-colors",children:e.jsx(u,{to:"/returns",children:"××“×™× ×™×•×ª ×”×—×–×¨×•×ª"})}),e.jsx("li",{className:"hover:text-[#f9e79f] transition-colors",children:e.jsx(u,{to:"/faq",children:"×©××œ×•×ª × ×¤×•×¦×•×ª"})})]})]})]}),e.jsx("div",{className:"mt-12 pt-6 border-t border-[#1a3c70] text-center",children:e.jsx("p",{children:"Â© ×›×œ ×”×–×›×•×™×•×ª ×©××•×¨×•×ª ×œ×¡×¤×¨×™ ×§×•×“×© ×ª×œ×¤×™×•×ª"})})]})}),r&&e.jsx(He,{onClose:()=>s(!1)}),e.jsx(Ye,{})]})})}se.createRoot(document.getElementById("root")).render(e.jsx(te.StrictMode,{children:e.jsx(Xe,{})}));
